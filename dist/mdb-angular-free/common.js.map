{"version":3,"sources":["webpack:///./src/app/admin/extral-admin/common/login-cookie.ts","webpack:///./src/app/admin/extral-admin/model/user.ts"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["import { CookieService } from 'ngx-cookie-service';\r\nimport { User } from '../model/user';\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Injectable()\r\nexport class LoginCookie {\r\n\r\n    user = new User();\r\n\r\n    constructor(\r\n        private cookieService: CookieService,\r\n        private router: Router,\r\n        private toastrService: ToastrService\r\n    ) { }\r\n\r\n    /**\r\n     * save info user when login \r\n     * @param data \r\n     */\r\n    public saveInfoUserWhenLogin(data: any) {\r\n        this.user = data[0];\r\n        // save data to cookie\r\n        this.cookieService.set('idUser', this.user.idUser);\r\n        this.cookieService.set('username', this.user.username);\r\n        this.cookieService.set('password', this.user.password);\r\n        this.cookieService.set('typeUser', this.user.typeUser);\r\n        this.cookieService.set('idTruong', this.user.idTruong);\r\n        this.cookieService.set('idHS', this.user.idHS);\r\n        this.cookieService.set('hoTen', this.user.hoTen);\r\n        this.cookieService.set('gioiTinh', this.user.gioiTinh);\r\n        this.cookieService.set('namSinh', this.user.namSinh);\r\n        this.cookieService.set('sdt', this.user.sdt);\r\n        this.cookieService.set('diaChi', this.user.diaChi);\r\n        this.cookieService.set('email', this.user.email);\r\n\r\n        // 1 is login 0 is logout\r\n        this.cookieService.set('isLogin', '1');\r\n    }\r\n\r\n    /**\r\n     * clear info user when logout \r\n     * @param data \r\n     */\r\n    public clearInfoUserWhenLogout() {\r\n        this.cookieService.deleteAll();\r\n\r\n        // 1 is login 0 is logout\r\n        this.cookieService.set('isLogin', '0');\r\n    }\r\n\r\n    /**\r\n     * get info of user\r\n     * @param data \r\n     */\r\n    public getInfoUser(): User {\r\n        //user login \r\n        if (this.cookieService.get('isLogin') === '1') {\r\n            this.user.idUser = this.cookieService.get('idUser');\r\n            this.user.username = this.cookieService.get('username');\r\n            this.user.password = this.cookieService.get('password');\r\n            this.user.typeUser = this.cookieService.get('typeUser');\r\n            this.user.idTruong = this.cookieService.get('idTruong');\r\n            this.user.idHS = this.cookieService.get('idHS');\r\n            this.user.hoTen = this.cookieService.get('hoTen');\r\n            this.user.gioiTinh = this.cookieService.get('gioiTinh');\r\n            this.user.namSinh = this.cookieService.get('namSinh');\r\n            this.user.sdt = this.cookieService.get('sdt');\r\n            this.user.diaChi = this.cookieService.get('diaChi');\r\n            this.user.email = this.cookieService.get('email');\r\n\r\n            this.user.isLogin = true;\r\n        } else {\r\n            this.user = new User();\r\n            this.user.isLogin = false;\r\n        }\r\n\r\n        return this.user;\r\n    }\r\n\r\n    /**\r\n     * check is admin home\r\n     * @param data \r\n     */\r\n    public checkIsAdminHome(): boolean {\r\n        // check user is admin home\r\n        if (!(this.user && this.user.isLogin && this.user.typeUser === '1')) {\r\n            this.toastrService.error('Không Có Quyền Truy Cập!');\r\n            this.router.navigate(['/admin/login/login']); \r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * check is home admin school\r\n     * @param data \r\n     */\r\n    public checkIsHomeAdminSchool(): boolean {\r\n        // check user is home admin school\r\n        if (!(this.user && this.user.isLogin && this.user.typeUser === '2')) {\r\n            this.toastrService.error('Không Có Quyền Truy Cập!');\r\n            this.router.navigate(['/admin/login/login']);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * check is giao vien\r\n     * @param data \r\n     */\r\n    public checkIsGiaoVien(): boolean {\r\n        // check user is giao vien\r\n        if (!(this.user && this.user.isLogin && this.user.typeUser === '3')) {\r\n            this.toastrService.error('Không Có Quyền Truy Cập!');\r\n            this.router.navigate(['/admin/login/login']);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n}","export class User {\r\n    idUser: string;\r\n    username: string;\r\n    password: string;\r\n    typeUser: string;\r\n    idTruong: string;\r\n    idHS: string;\r\n    hoTen: string;\r\n    gioiTinh: string;\r\n    namSinh: string;\r\n    sdt: string;\r\n    diaChi: string;\r\n    email: string;\r\n    isLogin: boolean;\r\n}\r\n"],"sourceRoot":""}